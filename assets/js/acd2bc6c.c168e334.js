(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[123],{9569:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return u},assets:function(){return h},toc:function(){return m},default:function(){return p}});var o=n(4034),r=n(9973),a=(n(7294),n(3905)),l=["components"],i={slug:"malloc_chunk",title:"Memory Leak & malloc chunks",author:"Ye Shu",author_title:"Studying how C++ allocates and frees chunks in memory",author_url:"https://github.com/yechs",author_image_url:"https://avatars.githubusercontent.com/u/49149993",image:"https://shuye.dev/img/yechs.jpeg",tags:["c++","pwn"]},s="Memory Leak & malloc chunks",u={permalink:"/blog/malloc_chunk",editUrl:"https://github.com/yechs/website/edit/master/blog/blog/2021-08-13-malloc_chunks.mdx",source:"@site/blog/2021-08-13-malloc_chunks.mdx",title:"Memory Leak & malloc chunks",description:"How it all started",date:"2021-08-13T00:00:00.000Z",formattedDate:"August 13, 2021",tags:[{label:"c++",permalink:"/blog/tags/c"},{label:"pwn",permalink:"/blog/tags/pwn"}],readingTime:16.47,truncated:!0,authors:[{name:"Ye Shu",title:"Studying how C++ allocates and frees chunks in memory",url:"https://github.com/yechs",imageURL:"https://avatars.githubusercontent.com/u/49149993"}],nextItem:{title:"Me and My Broken Site(s)",permalink:"/blog/welcome"}},h={authorsImageUrls:[void 0]},m=[{value:"How it all started",id:"how-it-all-started",children:[],level:2}],c={toc:m};function p(e){var t=e.components,n=(0,r.Z)(e,l);return(0,a.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"how-it-all-started"},"How it all started"),(0,a.kt)("p",null,"While debugging a memory leak bug during my summer internship, I found out that one of our APIs returned a raw pointer and thus transferred its ownership to the caller (me). In other words, I'm now responsible of ",(0,a.kt)("inlineCode",{parentName:"p"},"delete"),"-ing the pointer after my code finishes. While this is ",(0,a.kt)("a",{parentName:"p",href:"https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#i11-never-transfer-ownership-by-a-raw-pointer-t-or-reference-t"},"a terrible engineering practice"),", I grew interested in how memory leaks happen, and how ",(0,a.kt)("inlineCode",{parentName:"p"},"delete[]")," solves the problem."),(0,a.kt)("p",null,"After some research & experiments, I wrote this blog post, which hopefully addresses three sets of questions"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"What are memory leaks?"),(0,a.kt)("li",{parentName:"ol"},"How are objects allocated on the heap? How does ",(0,a.kt)("inlineCode",{parentName:"li"},"delete[]")," know which area of memory to be freed?"),(0,a.kt)("li",{parentName:"ol"},"How can we prevent memory leaks from happening?")))}p.isMDXComponent=!0}}]);